<?xml version="1.0" encoding="utf-8"?>
<com.snapchat.android.ui.ChatLayout android:gravity="center" android:id="@id/chat_fragment_layout" android:background="@color/white" android:focusableInTouchMode="true" android:clickable="true" android:clipChildren="false" android:clipToPadding="false" android:descendantFocusability="beforeDescendants" android:layout_width="fill_parent" android:layout_height="fill_parent"
  xmlns:android="http://schemas.android.com/apk/res/android">
    <com.snapchat.android.ui.SpyRelativeLayout android:id="@id/swipe_listening_area" android:layout_width="fill_parent" android:layout_height="fill_parent">
        <com.snapchat.android.ui.chat.ChatAboveTheFoldV2RecyclerView android:id="@id/chat_message_list" android:paddingBottom="@dimen/chat_edit_bar_height" android:scrollbars="none" android:clipChildren="false" android:clipToPadding="false" android:descendantFocusability="blocksDescendants" android:layout_width="fill_parent" android:layout_height="fill_parent" android:listSelector="@android:color/transparent" android:stackFromBottom="true" android:divider="@null" android:dividerHeight="1.0dip" android:layout_above="@id/chat_message_input_divider" android:layout_below="@id/chat_top_panel_divider" android:fastScrollEnabled="false" android:overScrollMode="never" />
        <FrameLayout android:id="@id/chat_notification_bar" android:layout_width="fill_parent" android:layout_height="wrap_content" android:layout_below="@id/top_panel" />
        <RelativeLayout android:layout_gravity="center" android:id="@id/top_panel" android:clickable="true" android:layout_alignParentTop="true" style="@style/TopPanelIncludingStatusBarHeight">
            <RelativeLayout android:id="@id/chat_left_area" android:layout_width="wrap_content" android:layout_height="fill_parent" android:layout_marginLeft="@dimen/default_gap">
                <ImageView android:id="@id/hamburger_button" android:background="@drawable/chat_hamburger" android:layout_width="@dimen/icon_size_smaller" android:layout_height="@dimen/icon_size_smaller" android:layout_marginRight="@dimen/default_gap" android:layout_centerVertical="true" />
                <TextView android:textSize="@dimen/text_size_default" android:textStyle="normal" android:textColor="@color/blue" android:ellipsize="end" android:gravity="center_vertical" android:id="@id/chat_friends_name" android:layout_width="wrap_content" android:layout_height="fill_parent" android:layout_marginRight="@dimen/default_gap" android:maxLines="1" android:layout_toRightOf="@id/hamburger_button" android:layout_centerVertical="true" />
                <TextView android:textSize="@dimen/text_size_default" android:textStyle="normal" android:gravity="center_vertical" android:id="@id/chat_connection_icon" android:layout_width="wrap_content" android:layout_height="fill_parent" android:maxLines="1" android:layout_toRightOf="@id/chat_friends_name" android:layout_centerVertical="true" />
            </RelativeLayout>
            <RelativeLayout android:id="@id/chat_back_button_area" android:background="@drawable/action_bar_touch_selector" android:paddingRight="@dimen/default_gap" android:layout_width="wrap_content" android:layout_height="fill_parent" android:layout_alignParentRight="true">
                <ImageView android:id="@id/up_arrow" android:background="@drawable/aa_action_bar_up_arrow_blue" android:layout_width="9.0dip" android:layout_height="26.0dip" android:layout_marginLeft="@dimen/default_gap" android:layout_marginRight="@dimen/default_gap" android:layout_centerVertical="true" android:rotation="180.0" />
            </RelativeLayout>
        </RelativeLayout>
        <View android:id="@id/chat_top_panel_divider" android:background="@color/divider_grey" android:layout_width="fill_parent" android:layout_height="@dimen/chat_top_panel_divider_height" android:layout_below="@id/top_panel" />
    </com.snapchat.android.ui.SpyRelativeLayout>
    <ViewStub android:id="@id/hold_to_stream_view_stub" android:layout="@layout/chat_hold_to_stream" android:layout_width="fill_parent" android:layout_height="fill_parent" />
    <ViewStub android:id="@id/dummy_stream_view_stub" android:layout="@layout/chat_dummy_stream_view" android:layout_width="fill_parent" android:layout_height="fill_parent" />
    <RelativeLayout android:orientation="horizontal" android:id="@id/message_input_layout" android:background="@android:color/white" android:layout_width="fill_parent" android:layout_height="wrap_content" android:layout_alignParentBottom="true">
        <com.snapchat.android.ui.CursorCallbackEditText android:textSize="@dimen/chat_message_text_size" android:layout_gravity="center_vertical" android:id="@id/chat_input_field" android:background="@null" android:paddingLeft="@dimen/default_gap" android:paddingTop="@dimen/default_gap_half" android:paddingRight="@dimen/chat_camera_button_width" android:paddingBottom="@dimen/default_gap_half" android:layout_width="fill_parent" android:layout_height="wrap_content" android:minHeight="@dimen/chat_edit_bar_height" android:hint="@string/chat_message_input_box_hint" android:singleLine="true" android:maxLength="500" android:layout_weight="1.0" android:layout_alignParentLeft="true" android:imeOptions="actionSend" />
        <com.snapchat.android.ui.ChatCameraButton android:id="@id/chat_camera_button" android:layout_width="@dimen/chat_camera_button_width" android:layout_height="@dimen/chat_edit_bar_height" android:layout_alignParentRight="true" />
    </RelativeLayout>
    <View android:id="@id/chat_message_input_divider" android:background="@color/divider_grey" android:layout_width="fill_parent" android:layout_height="@dimen/chat_edit_divider_height" android:layout_above="@id/message_input_layout" />
    <com.snapchat.android.ui.here.HereTooltip android:id="@id/here_tooltip" android:layout_width="fill_parent" android:layout_height="fill_parent" android:layout_above="@id/message_input_layout" />
    <com.snapchat.android.ui.cash.CashTooltip android:id="@id/cash_tooltip" android:layout_width="fill_parent" android:layout_height="fill_parent" android:layout_above="@id/message_input_layout" />
    <ViewStub android:id="@id/cash_receiver_stub" android:layout="@layout/chat_cash_receiver" android:layout_width="fill_parent" android:layout_height="fill_parent" android:layout_above="@id/message_input_layout" />
    <ViewStub android:id="@id/chat_cash_swiper_stub" android:visibility="gone" android:layout="@layout/chat_cash_swiper" android:layout_width="fill_parent" android:layout_height="fill_parent" />
    <ViewStub android:id="@id/snap_dismiss_animation_stub" android:layout="@layout/dismiss_animation_view" android:layout_width="fill_parent" android:layout_height="fill_parent" />
    <ViewStub android:id="@id/chat_fullscreen_stub" android:layout="@layout/chat_fullscreen_message" android:layout_width="wrap_content" android:layout_height="wrap_content" />
    <View android:id="@id/chat_divider" android:background="@color/black_eight_opacity" android:layout_width="@dimen/chat_divider_width" android:layout_height="fill_parent" android:layout_marginLeft="@dimen/chat_divider_margin_left" android:layout_alignParentLeft="true" />
    <View android:id="@id/chat_shadow" android:background="@drawable/chat_fragment_shadow" android:layout_width="@dimen/chat_shadow_width" android:layout_height="fill_parent" android:layout_marginLeft="@dimen/chat_shadow_margin_left" android:layout_alignParentLeft="true" />
</com.snapchat.android.ui.ChatLayout>